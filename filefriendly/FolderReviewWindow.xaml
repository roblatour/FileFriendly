<Window x:Class="FolderReviewWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:filefriendly.TreeViewWithCheckBoxes"
    xmlns:dw="clr-namespace:filefriendly.DrWPF.Windows.Controls"        
    Title="FolderReviewWindow" Height="600" Width="450" WindowStyle="None" MinWidth="300" MinHeight="200" Topmost="True" Icon="/filefriendly;component/Resources/fflogogif.gif">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <!-- Load this specific theme because the Aero theme for CheckBox has issues. -->
                <ResourceDictionary Source="/PresentationFramework.Royale;V3.0.0.0;31bf3856ad364e35;component/themes/royale.normalcolor.xaml" />
                <ResourceDictionary Source="Resources/BrushResources.xaml" />
                <ResourceDictionary Source="Resources/ControlResources.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <Style x:Key="TreeViewItemStyle" TargetType="TreeViewItem">
                <Setter Property="Foreground" Value="Brown" />
                <Setter Property="IsExpanded" Value="True" />
                <Setter Property="IsSelected" Value="{Binding IsInitiallySelected, Mode=OneTime}" />
                <Setter Property="KeyboardNavigation.AcceptsReturn" Value="True" />
            </Style>

            <HierarchicalDataTemplate x:Key="CheckBoxItemTemplate" ItemsSource="{Binding Children, Mode=OneTime}" >
                <StackPanel Orientation="Horizontal">
                    <!-- These elements are bound to a FooViewModel object. -->
                    <CheckBox Focusable="False" IsChecked="{Binding IsChecked}" VerticalAlignment="Center" />
                    <ContentPresenter Content="{Binding Name, Mode=OneTime}" Margin="2,0" />
                </StackPanel>
            </HierarchicalDataTemplate>

        </ResourceDictionary>
    </Window.Resources>

    <Window.DataContext>
        <ObjectDataProvider MethodName="CreateFoos" ObjectType="{x:Type local:FooViewModel}" />
    </Window.DataContext>

    <Window.Background>
        <StaticResource ResourceKey="WindowsBackgroundBrush" />
    </Window.Background>

    <Grid>
        <TabControl Name="TabControl1" VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch" Margin="3.5,12,3.5,36" Background="Transparent" BorderBrush="Brown">
            <TabItem Header="Folders to show in folder window" Name="TabItem1" Foreground="Brown">
                <DockPanel>
                    <TreeView x:Name="Tree" ItemsSource="{Binding Mode=OneTime}" ItemTemplate="{StaticResource CheckBoxItemTemplate}"
                              ItemContainerStyle="{StaticResource TreeViewItemStyle}"                          
                              Background="Transparent" BorderThickness="0" Foreground="Brown" />
                </DockPanel>
            </TabItem>
        </TabControl>

        <!-- Bottom buttons: Cancel, Recommended, OK -->
        <Button Height="25" IsCancel="True" Margin="8.5,0,0,5" Name="btnCancel"
                VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="100">_Cancel</Button>

        <Button Height="25" Margin="0,0,0,5" Name="btnRecommended"
                VerticalAlignment="Bottom" HorizontalAlignment="Center" Width="100">_Recommended</Button>

        <Button Height="25" IsDefault="True" Margin="0,0,9.5,5" Name="btnOK"
                VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="100">_OK</Button>

        <Image Cursor="Hand" Height="14" Margin="0,5,4,0" Name="imgClose" Source="/filefriendly;component/Resources/close.gif" Stretch="Fill" ToolTip="Close" VerticalAlignment="Top" HorizontalAlignment="Right" Width="14" />
        <Rectangle Margin="205,32,4,0" Name="Rectangle2" Stroke="{StaticResource DefaultSystemBrush}" Fill="{StaticResource DefaultSystemBrush}" Height="1" VerticalAlignment="Top" />
    </Grid>
</Window>